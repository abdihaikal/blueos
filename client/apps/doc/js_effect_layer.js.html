<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: js/effect/layer.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link href="http://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
    <link type="text/css" rel="stylesheet" href="styles/custom.css">
    <link type="text/css" rel="stylesheet" href="styles/gfm.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: js/effect/layer.js</h1>

    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>ferret.module('blueos.effect.layer', function (require, exports, module) {
  /** Layer management module
   *  @module blueos/effect/layer
   *  @requires core/event
   */

  var event = require('core.event');

  var layers = [];
  var BASE = 100;
  var MAX = 200;

  /** add an element to layer manager
   *  @param {Element} - a DOM element to be managed
   *  @memberof module:blueos/effect/layer
   */
  function add(el) {
    layers.push($(el).get(0));
    updateIndex();
  }

  /** remove the element from the layer manager
   *  @param {Element} - the element to be removed
   *  @memberof module:blueos/effect/layer
   */
  function remove(el) {
    layers = $.grep(layers, function (l) {
      return l !== $(el).get(0);
    });
    updateIndex();
  }

  /** bring the given element to front
   *  @param {Element} - the element to be brought to front
   *  @memberof module:blueos/effect/layer
   */
  function tofront(el) {
    var q = [];
    var target;

    while (layers.length) {
      var l = layers.pop();

      if (l === $(el).get(0)) {
        target = l;
        break;
      }
      q.unshift(l);
    }

    layers = layers.concat(q);
    layers.push(target);
    updateIndex();
  }

  /** refresh indexes of all layers
   *  @memberof module:blueos/effect/layer
   */
  function updateIndex() {
    var counter = 0;
    ferret.forEach(layers, function (layer, i) {
      $(layer).css({ "z-index": BASE + counter });
      if (i === layers.length - 1) {
        $(layer).addClass('front');
      } else {
        $(layer).removeClass('front');
      }

      counter++;
    });
  }

  event.listen('layer-add', add);
  event.listen('layer-remove', remove);
  event.listen('layer-tofront', tofront);
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Modules</h3><ul><li><a href="module-blueos_app.html">blueos/app</a></li><li><a href="module-blueos_app_GUIApplication.html">blueos/app/GUIApplication</a></li><li><a href="module-blueos_effect_layer.html">blueos/effect/layer</a></li><li><a href="module-blueos_rest_app.html">blueos/rest/app</a></li><li><a href="module-blueos_rest_config.html">blueos/rest/config</a></li><li><a href="module-blueos_rest_file.html">blueos/rest/file</a></li><li><a href="module-core_event.html">core/event</a></li></ul><h3>Namespaces</h3><ul><li><a href="ferret.html">ferret</a></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-calculator.html">App: Calculator</a></li><li><a href="tutorial-calendar.html">App: Calendar</a></li><li><a href="tutorial-datetime.html">Date and Time</a></li><li><a href="tutorial-future.html">Future of BlueOS</a></li><li><a href="tutorial-googlemap.html">App: Google Map</a></li><li><a href="tutorial-how-to-develop-app.html">How to develop applications for BlueOS</a></li><li><a href="tutorial-interact.html">Interactions between applications</a></li><li><a href="tutorial-modules.html">BlueOS modules</a></li><li><a href="tutorial-sdk.html">BlueOS SDK</a></li><li><a href="tutorial-wallpaper.html">App: Wallpaper</a></li><li><a href="tutorial-weather.html">App: Weather</a></li><li><a href="tutorial-zentype.html">App: Zen Typing</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sun Oct 08 2017 03:37:31 GMT+0000 (UTC)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
